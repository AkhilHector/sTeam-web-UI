<!DOCTYPE html>
<html lang="en">
<head>
  <title>
    sTeam Collaboration platform
  </title>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1" name="viewport">

  <link rel="stylesheet" type="text/css" href="../bower_components/bootstrap/dist/css/bootstrap.css">
  <link rel="stylesheet" type="text/css" href="../bower_components/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="../styles/spinner.css">

</head>
<body>

 <nav class="navbar navbar-default navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <a class="navbar-brand">sTeam Web Interface</a>
      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-main">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <div class="navbar-collapse collapse" id="navbar-main">
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
          <a aria-expanded="false" class="dropdown-toggle" data-toggle="dropdown" href="#" id="download">{{user}} <span class="caret"></span></a>
          <ul class="dropdown-menu" aria-labelledby="download">
            <li><a href="#">Profile</a></li>
            <li class="divider"></li>
            <li><a href="#">Settings</a></li>
            <li><a href="#">Logout</a></li>
          </ul>
        </li>
      </ul>

    </div>
  </div>
</nav>

<br>

<div class="container">
  <div class="row">
    <div class="col-lg-2">
      <div class="alert alert-success">
        <center><h4>{{user's}} workarea</h4></center>
      </div>
    </div>
    <div class="col-lg-5">
      <a href="#" class="btn btn-info btn-lg btn-block">Private</a>
    </div>
    <div class="col-lg-5">
      <a href="#" class="btn btn-warning btn-lg btn-block">Groups</a>
    </div>
  </div>
</div>

<div class="container" ng-app="steam">
  <div class="row">
    <div class="col-lg-12 col-md-3 col-sm-4" ng-controller="sTeamaudioPlayer">
      <div class="jumbotron">
        <div class="row">
          <div class="col-lg-12">
            <ul class="breadcrumb">
              <li><a href="#">Home</a></li>
              <li><a href="#">{{user}}</a></li>
              <li><a href="#">room</a></li>
              <li class="active">file</li>
            </ul>
          </div>
        </div>
        <div class=col-md-offset-7>
          <h3>
            {{audio.id}} &ndash; <code>{{audio.currentTime | trackTime}}</code>
          </h3>
          <p ng-if=audio.error>
            Error playing this sound.
          </p>
          <p ng-if=!audio.canPlay>
            Sound is loading, or you are viewing this on a device that doesn't support the <code>canPlay</code> property.
          </p>
        </div>
        <div ng-if='!audio.error' class='form-group col-md-8 col-md-offset-6'>
          <form class=form-inline>
            <div class='form-group col-xs-9'>
              <button class='btn btn-success' ng-click='audio.paused ? audio.play() : audio.pause()'>{{audio.paused ? "Play" : "Pause" }}</button>
              <button class='btn btn-danger' ng-click='audio.restart()'>Stop</button>
              <button class='btn btn-info' ng-click='audio.muting = !audio.muting'>{{audio.muting ? "Unmute" : "Mute" }}</button>
            </div>
          </form>
        </div>
        <form class='form-horizontal'>
          <div class="form-group">
            <label class="col-md-4 control-label" for="prependedtext">Progress</label>
            <div class="col-md-8">
              <div class="input-group">
                <span class="input-group-addon"></span>
                <input class='form-control' type=range min=0 max=1 step=0.01 ng-model='audio.progress' style="background-color: #4e5d6c;">
              </div>
            </div>
          </div>
          <div class="form-group">
            <label class="col-md-4 control-label" for="prependedtext">Volume</label>
            <div class="col-md-8">
              <div class="input-group">
                <span class="input-group-addon"></span>
                <input class='form-control' type=range min=0 max=1 step=0.01 ng-model='audio.volume' style="background-color: #4e5d6c;">
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="../bower_components/angular/angular.js"></script>
<script type="text/javascript" src="../bower_components/jquery/dist/jquery.min.js"></script>
<script type="text/javascript" src="../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../bower_components/angular-audio/app/angular.audio.js"></script>
<script type="text/javascript">
  angular.module('steam', [ 'ngAudio' ])

  .value("songRemember",{})
    .controller('sTeamaudioResource', function($scope, ngAudio) {
        $scope.audios = [
            ngAudio.load('audio/test.mp3'),
        ]
    })

  .controller('sTeamaudioPlayer', ['$scope', 'ngAudio', 'songRemember', function($scope, ngAudio, songRemember) {
    var url = 'test.mp3';

    if (songRemember[url]) {
      $scope.audio = songRemember[url];
    } else {
      $scope.audio = ngAudio.load(url);
      $scope.audio.volume = 0.8;
      songRemember[url] = $scope.audio;


    }
  }]);
</script>

</body>
</html>